<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>

  <body>
    <div id="page-container" class="sidebar-o sidebar-dark enable-page-overlay side-scroll page-header-fixed page-footer-fixed sidebar-o side-trans-enabled">
      <nav id="sidebar" aria-label="Main Navigation"><%- include('../partials/navigasi'); %></nav>
      <!-- END Sidebar -->

      <!-- Header -->
      <header id="page-header">
        <!-- Header Content -->
        <%- include('../partials/header'); %>
      </header>
      <!-- END Header -->

      <!-- Main Container -->
      <main id="main-container">
        <!-- Page Content -->
        <div class="content">
          <h4 id="titlePage" class="content-heading text-uppercase"></h4>
          <div class="block block-rounded">
            <div class="block-header">
              <div id="mainNavigator" class="block-title">
                <button title="Add" type="submit" onclick="showLayoutPurchaseRequesstData()" class="btn btn-primary">
                  <i class="fa-solid fa-plus"></i>
                </button>
              </div>
              <div class="block-options">
                <button type="button" class="btn-block-option" data-toggle="block-option" data-action="fullscreen_toggle"></button>
              </div>
            </div>
            <div class="block-content block-content-full">
              <div id="createData" hidden>
                <form id="formHeaderPR">
                  <div class="row">
                    <div hidden class="col-sm-4 mb-2">
                      <label id="codeLabel" class="form-label text-uppercase" for="code">Code</label>
                      <input type="text" class="form-control" id="code" name="code" />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="purchaseRequestLabel" class="form-label text-uppercase" for="purchaseRequest">Purchase request</label>
                      <input type="text" class="form-control fw-light text-uppercase" id="purchaseRequest" name="purchaseRequest" disabled />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="partnersLabel" class="form-label text-uppercase" for="partners">Partners</label>
                      <select class="js-select2 form-select fw-light text-uppercase" name="partners" id="partners" style="width: 100%"></select>
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="orderDateLabel" class="form-label text-uppercase" for="orderDate">Order Date </label>
                      <input type="text" class="js-flatpickr form-control fw-light" id="orderDate" name="orderDate" data-date-format="d-m-Y" data-min-date="today" />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="deliveryDateLabel" class="form-label text-uppercase" for="deliveryDate">Delivery Date </label>
                      <input type="text" class="js-flatpickr form-control fw-light" id="deliveryDate" name="deliveryDate" data-date-format="d-m-Y" data-min-date="today" />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="noteLabel" class="form-label text-uppercase" for="note">Note</label>
                      <input type="text" maxlength="50" data-placement="top" data-always-show="true" class="js-maxlength form-control text-uppercase" id="note" name="note" />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="currencyLabel" class="form-label text-uppercase" for="currency">Mata Uang</label>
                      <select class="js-select2 form-select fw-light text-uppercase" name="currency" id="currency" style="width: 100%"></select>
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="exchangeRateLabel" class="form-label text-uppercase" for="exchangeRate">Exchange Rate</label>
                      <input type="number" class="form-control" id="exchangeRate" value="1" name="exchangeRate" />
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="termOfPaymentLabel" class="form-label text-uppercase" for="termOfPayment">Term of Payment</label>
                      <select class="js-select2 form-select fw-light text-uppercase" name="termOfPayment" id="termOfPayment" style="width: 100%"></select>
                    </div>
                    <div class="col-sm-4 mb-2">
                      <label id="receivingLocationsLabel" class="form-label text-uppercase" for="receivingLocations">receiving locations</label>
                      <select class="js-select2 form-select fw-light text-uppercase" name="receivingLocations" id="receivingLocations" style="width: 100%"></select>
                    </div>
                    <div hidden class="col-sm-4 mb-2">
                      <label id="locationLabel" class="form-label text-uppercase" for="location">Worksite</label>
                      <input type="text" class="form-control" id="location" name="location" />
                    </div>
                  </div>
                </form>

                <form id="formadditemmaster" class="formadditemmaster">
                  <div class="row table-responsive mb-2">
                    <table id="dataTableItemMasterOrder" class="table table-striped table-vcenter">
                      <thead>
                        <tr>
                          <th id="codeItemOrder" class="text-center text-uppercase">Code Item</th>
                          <th id="descriptionOrder" class="text-center text-uppercase">Description</th>
                          <th id="noteOrder" class="text-center text-uppercase" style="width: 300px">Note</th>
                          <th id="uomOrder" class="text-center text-uppercase">UOM</th>
                          <th id="qtyOrder" class="text-center text-uppercase" style="width: 150px">Qty</th>
                          <th id="unitPriceOrder" class="text-center text-uppercase" style="width: 150px">Harga satuan</th>
                          <th id="totalOrder" class="text-center text-uppercase" style="width: 150px">total</th>
                          <th id="actionsOrder" class="text-center text-uppercase" style="width: 50px"><i class="fa-regular fa-square-check fa-xl"></i></th>
                        </tr>
                      </thead>
                      <tbody id="dataTableItem"></tbody>
                      <tfoot>
                        <tr>
                          <td id="subtotalFoot" class="text-end text-uppercase" colspan="5">SubTotal</td>
                          <td colspan="2"><input type="text" class="form-control text-end" id="subtotal" value="0" onfocus="removeZero(this)" name="subtotal" disabled /></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td id="discountFoot" class="text-end text-uppercase" colspan="5">Diskon</td>
                          <td><input type="text" onkeyup="countGrandTotalPrice('persen')" class="form-control text-end" id="diskonPersen" value="0" onfocus="removeZero(this)" name="diskonPersen" style="width: 150px" /></td>
                          <td><input type="text" onkeyup="typeformatRupiah(this); countGrandTotalPrice('nominal')" class="form-control text-end" id="diskonNominal" value="0" onfocus="removeZero(this)" name="diskonNominal" style="width: 150px" /></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td id="shippingFoot" class="text-end text-uppercase" colspan="5">Shipping Cost</td>
                          <td colspan="2"><input type="text" onkeyup="typeformatRupiah(this); countGrandTotalPrice()" class="form-control text-end" id="shipping" value="0" onfocus="removeZero(this)" name="shipping" /></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td id="taxFoot" class="text-end text-uppercase" colspan="5">PPN</td>
                          <td><input type="text" onkeyup="countGrandTotalPrice()" class="form-control text-end" id="ppnPersen" value="0" onfocus="removeZero(this)" name="ppnPersen" style="width: 150px" /></td>
                          <td><input type="text" class="form-control text-end" id="ppnNominal" value="0" onfocus="removeZero(this)" name="ppnNominal" style="width: 150px" disabled /></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td id="grandTotalFoot" class="text-end text-uppercase" colspan="5">Grand Total</td>
                          <td colspan="2"><input type="text" class="form-control text-end" id="grandTotal" value="0" onfocus="removeZero(this)" name="grandTotal" disabled /></td>
                          <td>
                            <a id="doneBtn" type="submit" onclick="countGrandTotalPrice()" class="btn btn-primary"><i class="fa-solid fa-rotate"></i></a>
                          </td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                  <div id="load" class="col-sm-2 mb-2"></div>
                </form>
              </div>
              <div id="listData" hidden>
                <div class="row table-responsive">
                  <table class="table table-bordered table-vcenter">
                    <thead>
                      <tr>
                        <th class="text-center text-uppercase">#</th>
                        <th id="noPRListData" class="text-center text-uppercase">No Purchase Request</th>
                        <th id="noPRQListData" class="text-center text-uppercase">No Purchase Request Quotation</th>
                        <th id="PartnersListData" class="text-center text-uppercase">Partners</th>
                        <th id="comparisonData" class="text-center text-uppercase">Comperations</th>
                        <th id="actionsListData" class="text-center text-uppercase">Actions</th>
                      </tr>
                    </thead>
                    <tbody id="dataTable"></tbody>
                  </table>
                </div>
              </div>
              <div id="purchaseRequestData" hidden>
                <div id="rowUsers" class="row table-responsive">
                  <table class="table table-bordered table-striped table-vcenter js-dataTable-responsive">
                    <thead>
                      <tr>
                        <th class="text-center text-uppercase">#</th>
                        <th id="noPRData" class="text-center text-uppercase">No Purchase Request</th>
                        <th id="worksiteData" class="text-center text-uppercase">Worksite</th>
                        <th id="dateCreateData" class="text-center text-uppercase">Date Create</th>
                        <th id="requestbyData" class="text-center text-uppercase">Request By</th>
                        <th id="actionData" class="text-center text-uppercase">action</th>
                      </tr>
                    </thead>
                    <tbody id="dataTablePurchaseRequest"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <!-- END Store Growth -->
        </div>
      </main>
      <footer id="page-footer" class="bg-body-light"><%- include('../partials/footer'); %></footer>
    </div>
    <div class="modal" id="modalNotice" tabindex="-1" role="dialog" aria-labelledby="modalNotice" data-bs-backdrop="static" aria-hidden="true">
      <div class="modal-dialog modal-dialog-top" role="document">
        <div class="modal-content">
          <div class="block block-rounded block-themed block-transparent mb-0">
            <div class="block-header bg-primary-dark">
              <h3 id="titleContent" class="block-title">Modal Title</h3>
              <div class="block-options"></div>
            </div>
            <div id="contentNotice" class="block-content"></div>
            <div id="loadNotice" class="block-content block-content-full text-end bg-body"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Core Libraries -->
    <script src="assets/js/lib/jquery.min.js"></script>
    <script src="assets/js/dashmix.app.min.js"></script>

    <!-- Application Core -->
    <script src="js/mainUrl.js"></script>
    <script src="lib/loadingPage.js"></script>
    <script src="lib/epps.js"></script>

    <!-- Form Controls & Validation -->
    <script src="assets/js/plugins/select2/js/select2.full.min.js"></script>
    <script src="assets/js/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>
    <script src="assets/js/plugins/jquery-validation/jquery.validate.min.js"></script>
    <script src="assets/js/plugins/jquery-validation/additional-methods.js"></script>
    <script src="assets/js/plugins/jquery.maskedinput/jquery.maskedinput.min.js"></script>

    <!-- Date/Time Pickers -->
    <script src="assets/js/plugins/flatpickr/flatpickr.min.js"></script>

    <!-- Data Tables & Export -->
    <script src="assets/js/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="assets/js/plugins/datatables-bs5/js/dataTables.bootstrap5.min.js"></script>
    <script src="assets/js/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="assets/js/plugins/datatables-responsive-bs5/js/responsive.bootstrap5.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons/dataTables.buttons.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons-bs5/js/buttons.bootstrap5.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons-jszip/jszip.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons-pdfmake/pdfmake.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons-pdfmake/vfs_fonts.js"></script>
    <script src="assets/js/plugins/datatables-buttons/buttons.print.min.js"></script>
    <script src="assets/js/plugins/datatables-buttons/buttons.html5.min.js"></script>

    <!-- Visualization & Notifications -->
    <script src="assets/js/plugins/chart.js/chart.umd.js"></script>
    <script src="assets/js/plugins/bootstrap-notify/bootstrap-notify.min.js"></script>

    <!-- Purchase Request Quotation Modules -->
    <script src="js/purchase_request_quotation/selectPurchaseRequestQuotation.js"></script>
    <script src="js/purchase_request_quotation/insertPurchaseRequestQuotation.js"></script>
    <script src="js/purchase_request_quotation/updatePurchaseRequestQuotation.js"></script>
    <script src="js/purchase_request_quotation/deletePurchaseRequestQuotation.js"></script>

    <!-- Initialization -->
    <script>
      Dashmix.helpersOnLoad(["js-flatpickr", "jq-datepicker", "jq-maxlength", "jq-select2", "jq-notify", "jq-rangeslider", "jq-masked-inputs", "jq-pw-strength"]);
    </script>
  </body>
</html>
